import{u as q,d as o,o as n,c as H,w as V,b as J,a as e,g as M,t as i,m as a,z as P,e as d,i as h,F as f,h as R,J as N,K as u,N as U,k as I,l as L}from"./app.937ab2e3.js";import{_ as G}from"./AppLayout.9dcb42c7.js";import{_ as Q}from"./HrPortalNav.da681365.js";import{e as z,D as W}from"./dataTables.select.6ab0dcb8.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./ResponsiveNavLink.0bfe1a7f.js";import"./NavLink.a8501dd2.js";const X=e("p",{class:"font-serif text-2xl mx-8 my-8 underline text-sky-900 decoration-neutral-900"},"Struktur",-1),Y=e("label",{for:"my-modal",class:"btn my-1 mx-8"},"Create ",-1),Z={class:"card w-200 bg-base-100 shadow-xl my-8 mx-8 shadow-stone-600"},ee={class:"card-body"},te={class:"text-lg"},se={class:"w-0.5"},le=e("th",{class:"text-center py-3"},"Nrp",-1),oe=e("th",{class:"text-center py-3"},"Nama",-1),ae=e("th",{class:"text-center py-3"},"KJ",-1),ne=e("th",{class:"text-center py-3"},"Jabatan",-1),ie=e("th",{class:"text-center py-3"},"Bagian",-1),ce=e("th",{class:"text-center py-3"},"Status",-1),de=e("th",{class:"text-center py-3"},"Action",-1),re={class:"text-xl"},ue=["value"],pe={class:"py-3 text-gray-900"},be={class:"py-3 text-gray-900"},me={class:"py-3 text-gray-900"},ge={class:"py-3 text-gray-900"},xe={class:"py-3 text-gray-900"},he={class:"py-3 text-gray-900"},fe={class:"py-3 text-gray-900"},ve=["onClick"],ye=["onClick"],_e=e("div",{class:"fixed bottom-0 w-full"},[e("footer",{class:"footer items-center p-4 bg-neutral text-neutral-content"},[e("div",{class:"items-center grid-flow-col"},[e("svg",{width:"36",height:"36",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd",class:"fill-current"},[e("path",{d:"M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"})]),e("p",null,"Copyright \xA9 2023 - All right reserved")]),e("div",{class:"grid-flow-col gap-4 md:place-self-center md:justify-self-end"},[e("a",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"fill-current"},[e("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})])]),e("a",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"fill-current"},[e("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})])]),e("a",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"fill-current"},[e("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})])])])])],-1),we=e("input",{type:"checkbox",id:"my-modal",class:"modal-toggle"},null,-1),ke={class:"modal"},Ne={class:"modal-box modal-box w-12/12 max-w-6xl"},je=e("h3",{class:"font-bold text-lg"},"Update Struktur",-1),Se=e("hr",null,null,-1),Ve={class:"flex flex-wrap -mx-3 mb-6"},Ue={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Ce=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"name"},"Nrp",-1),Be=e("option",{disabled:"",selected:""},"Pilih Nrp",-1),Je=["value"],Me={class:"w-full md:w-1/2 px-3"},Pe=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"description"},"Nama",-1),ze={class:"flex flex-wrap -mx-3 mb-6"},Ae={class:"w-full md:w-1/3 px-3 mb-6 md:mb-0"},De=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"name"},"KJ",-1),Ke={class:"w-full md:w-1/3 px-3"},$e=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"description"},"Jabatan",-1),Oe={class:"w-full md:w-1/3 px-3 mb-6 md:mb-0"},Te=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"name"},"Bagian",-1),Ee=e("option",{disabled:"",selected:""},"Pilih Bagian",-1),Fe=["value"],qe=e("div",{class:"flex items-center justify-start"},[e("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit"}," Submit ")],-1),He=e("div",{class:"modal-action"},[e("label",{for:"my-modal",class:"btn"},"Close!")],-1),Re=e("input",{type:"checkbox",id:"my-update",class:"modal-toggle"},null,-1),Ie={class:"modal"},Le={class:"modal-box modal-box w-12/12 max-w-6xl"},Ge=e("h3",{class:"font-bold text-lg"},"Update Struktur",-1),Qe=e("hr",null,null,-1),We={class:"flex flex-wrap -mx-3 mb-6"},Xe={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Ye=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"name"},"Nrp",-1),Ze=e("option",{disabled:"",selected:""},"Pilih Nrp",-1),et=["value"],tt={class:"w-full md:w-1/2 px-3"},st=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"description"},"Nama",-1),lt={class:"flex flex-wrap -mx-3 mb-6"},ot={class:"w-full md:w-1/3 px-3 mb-6 md:mb-0"},at=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"name"},"KJ",-1),nt={class:"w-full md:w-1/3 px-3"},it=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"description"},"Jabatan",-1),ct={class:"w-full md:w-1/3 px-3 mb-6 md:mb-0"},dt=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"name"},"Bagian",-1),rt=e("option",{disabled:"",selected:""},"Pilih Bagian",-1),ut=["value"],pt=e("div",{class:"flex items-center justify-start"},[e("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit"}," Submit ")],-1),bt=e("div",{class:"modal-action"},[e("label",{for:"my-update",class:"btn"},"Close!")],-1),_t={__name:"ViewStrukturOrgHP",props:{struktur:{type:Object,default:()=>({})},karyawan:{type:Object,default:()=>({})},seksi:{type:Object,default:()=>({})}},setup(p){const j=p;z.use(W),q({nrp:"",nama:"",kj:"",jabatan:"",bagian:""});const b=o(""),v=o(""),y=o(""),_=o(""),S=o(""),r=o(""),m=o(""),g=o(""),x=o(""),w=o(""),k=o(""),C=o(""),B=o("");async function A(){console.log(b.value);const l=j.karyawan.find(s=>s.Nrp===b.value);console.log(l.Nama),v.value=l.Nama,y.value=l.KJ,_.value=l.JobTitle}async function D(){U.post("addstruktur",{nrp:b.value,nama:v.value,kj:y.value,jabatan:_.value,bagian:S.value}).then(l=>{console.log(l)}).catch(l=>{console.log(l)})}function K(l){!confirm("Are you sure want to remove?")||(console.log(l),L.Inertia.delete("strukturorghp/"+l))}function $(l){console.log(l),k.value=l;const s=j.struktur.find(t=>t.id===l);r.value=s.nrp,m.value=s.nama,g.value=s.kj,x.value=s.jabatan,w.value=s.bagian,console.log(r.value)}function O(){console.log(r.value);const l=j.karyawan.find(s=>s.Nrp===r.value);m.value=l.Nama,g.value=l.KJ,x.value=l.JobTitle}async function T(){U.post("updatesruktur",{nrp:r.value,nama:m.value,kj:g.value,jabatan:x.value,bagian:w.value,ids:k.value}).then(l=>{console.log(l)}).catch(l=>{console.log(l)})}function E(){document.querySelectorAll(".checklist").forEach(s=>{s.checked=this.select})}function F(){if(!confirm("Are you sure want to submit?"))return;var l=[],s=0;document.querySelectorAll(".checklist").forEach(c=>{c.checked&&(l[s]=c.value,s++)}),U.post("submitstruktur",{ids:l}).then(c=>{location.reload(),console.log(c)}).catch(c=>{console.log(c)})}return(l,s)=>(n(),H(G,{title:"Data Produk"},{sidenav:V(()=>[J(Q)]),default:V(()=>[X,Y,e("div",Z,[e("div",ee,[J(R(z),{class:"display table-auto"},{default:V(()=>[M(i()+" ",1),e("thead",te,[e("tr",null,[e("th",se,[a(e("input",{type:"checkbox",name:"",id:"",class:"",onChange:s[0]||(s[0]=t=>E()),"onUpdate:modelValue":s[1]||(s[1]=t=>B.value=t)},null,544),[[P,B.value]]),M("Select")]),le,oe,ae,ne,ie,ce,de])]),e("tbody",re,[(n(!0),d(f,null,h(p.struktur,t=>(n(),d("tr",{key:t.nrp,class:"bg-white border-b dark:bg-gray-800 text-xs overflow-y-auto min-h-screen"},[e("td",null,[a(e("input",{type:"checkbox",class:"checklist",name:"",id:"","onUpdate:modelValue":s[2]||(s[2]=c=>C.value=c),value:t.id},null,8,ue),[[P,C.value]])]),e("td",pe,i(t.nrp),1),e("td",be,i(t.nama),1),e("td",me,i(t.kj),1),e("td",ge,i(t.jabatan),1),e("td",xe,i(t.seksi),1),e("td",he,i(t.status),1),e("td",fe,[e("label",{for:"my-update",class:"btn my-1 mx-8",onClick:c=>$(t.id)},"Edit ",8,ve),e("button",{class:"btn text-xs bg-red-600",onClick:I(c=>K(t.id),["prevent"])},"Delete",8,ye)])]))),128))])]),_:1})])]),e("button",{class:"btn btn-text-xs bg-blue-500 my-1 mx-8",onClick:s[3]||(s[3]=t=>F())},"Submit"),_e,we,e("div",ke,[e("div",Ne,[je,Se,e("form",{onSubmit:D,class:"mt-3"},[e("div",Ve,[e("div",Ue,[Ce,a(e("select",{class:"select select-primary w-full",name:"nrp","onUpdate:modelValue":s[4]||(s[4]=t=>b.value=t),onChange:A,id:"nrps"},[Be,(n(!0),d(f,null,h(p.karyawan,t=>(n(),d("option",{key:t.Nrp,value:t.Nrp},i(t.Nrp),9,Je))),128))],544),[[N,b.value]])]),e("div",Me,[Pe,a(e("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"text",name:"nama","onUpdate:modelValue":s[5]||(s[5]=t=>v.value=t)},null,512),[[u,v.value]])])]),e("div",ze,[e("div",Ae,[De,a(e("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"text",name:"kj","onUpdate:modelValue":s[6]||(s[6]=t=>y.value=t),readonly:""},null,512),[[u,y.value]])]),e("div",Ke,[$e,a(e("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"text","onUpdate:modelValue":s[7]||(s[7]=t=>_.value=t),name:"jabatan",readonly:""},null,512),[[u,_.value]])]),e("div",Oe,[Te,a(e("select",{class:"select select-primary w-full",name:"bagian","onUpdate:modelValue":s[8]||(s[8]=t=>S.value=t),id:"seksi"},[Ee,(n(!0),d(f,null,h(p.seksi,t=>(n(),d("option",{key:t.Seksi,value:t.Seksi},i(t.Seksi),9,Fe))),128))],512),[[N,S.value]])])]),qe],32),He])]),Re,e("div",Ie,[e("div",Le,[Ge,Qe,e("form",{onSubmit:T,class:"mt-3"},[a(e("input",{type:"hidden",name:"ids","onUpdate:modelValue":s[9]||(s[9]=t=>k.value=t),id:""},null,512),[[u,k.value]]),e("div",We,[e("div",Xe,[Ye,a(e("select",{class:"select select-primary w-full",name:"nrpu","onUpdate:modelValue":s[10]||(s[10]=t=>r.value=t),onChange:O,id:"nrps"},[Ze,(n(!0),d(f,null,h(p.karyawan,t=>(n(),d("option",{key:t.Nrp,value:t.Nrp},i(t.Nrp),9,et))),128))],544),[[N,r.value]])]),e("div",tt,[st,a(e("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"text",name:"namau","onUpdate:modelValue":s[11]||(s[11]=t=>m.value=t)},null,512),[[u,m.value]])])]),e("div",lt,[e("div",ot,[at,a(e("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"text",name:"kju","onUpdate:modelValue":s[12]||(s[12]=t=>g.value=t),readonly:""},null,512),[[u,g.value]])]),e("div",nt,[it,a(e("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"text","onUpdate:modelValue":s[13]||(s[13]=t=>x.value=t),name:"jabatanu",readonly:""},null,512),[[u,x.value]])]),e("div",ct,[dt,a(e("select",{class:"select select-primary w-full",name:"bagianu","onUpdate:modelValue":s[14]||(s[14]=t=>w.value=t),id:"seksi"},[rt,(n(!0),d(f,null,h(p.seksi,t=>(n(),d("option",{key:t.Seksi,value:t.Seksi},i(t.Seksi),9,ut))),128))],512),[[N,w.value]])])]),pt],32),bt])])]),_:1}))}};export{_t as default};
